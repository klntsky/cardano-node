<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span>  </span><span class="hs-identifier">Cardano.TxGenerator.UTxO</span><span>
</span><span id="line-6"></span><span>        </span><span class="hs-special">(</span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.UTxO.html"><span class="hs-identifier">Cardano.TxGenerator.UTxO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-7"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/yah8jh4wrcwdir7qvlr4hr7972lmp3w9-cardano-api-lib-cardano-api-8.38.0.2-haddock-doc/share/doc/cardano-api/html/src/Cardano.Api.html"><span class="hs-identifier">Cardano.Api</span></a></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="file:///nix/store/yah8jh4wrcwdir7qvlr4hr7972lmp3w9-cardano-api-lib-cardano-api-8.38.0.2-haddock-doc/share/doc/cardano-api/html/src/Cardano.Api.Shelley.html"><span class="hs-identifier">Cardano.Api.Shelley</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ReferenceScript</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Fund.html"><span class="hs-identifier">Cardano.TxGenerator.Fund</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.TxGenerator.Fund.html#Fund"><span class="hs-identifier">Fund</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Fund.html#FundInEra"><span class="hs-identifier">FundInEra</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Cardano.TxGenerator.Utils.html"><span class="hs-identifier">Cardano.TxGenerator.Utils</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.TxGenerator.Utils.html#keyAddress"><span class="hs-identifier">keyAddress</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-keyword">type</span><span> </span><span id="ToUTxO"><span class="annot"><a href="Cardano.TxGenerator.UTxO.html#ToUTxO"><span class="hs-identifier hs-var">ToUTxO</span></a></span></span><span> </span><span id="local-6989586621679810004"><span class="annot"><a href="#local-6989586621679810004"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lovelace</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TxOut</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CtxTx</span></span><span> </span><span class="annot"><a href="#local-6989586621679810004"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxIx</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Fund.html#Fund"><span class="hs-identifier hs-type">Fund</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">type</span><span> </span><span id="ToUTxOList"><span class="annot"><a href="Cardano.TxGenerator.UTxO.html#ToUTxOList"><span class="hs-identifier hs-var">ToUTxOList</span></a></span></span><span> </span><span id="local-6989586621679810005"><span class="annot"><a href="#local-6989586621679810005"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span id="local-6989586621679810006"><span class="annot"><a href="#local-6989586621679810006"><span class="hs-identifier hs-type">split</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679810006"><span class="hs-identifier hs-type">split</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TxOut</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CtxTx</span></span><span> </span><span class="annot"><a href="#local-6989586621679810005"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.TxGenerator.Fund.html#Fund"><span class="hs-identifier hs-type">Fund</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span id="local-6989586621679809918"><span class="annot"><a href="Cardano.TxGenerator.UTxO.html#makeToUTxOList"><span class="hs-identifier hs-type">makeToUTxOList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.UTxO.html#ToUTxO"><span class="hs-identifier hs-type">ToUTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679809918"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.UTxO.html#ToUTxOList"><span class="hs-identifier hs-type">ToUTxOList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679809918"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lovelace</span></span><span> </span><span class="hs-special">]</span></span><span>
</span><span id="line-20"></span><span id="makeToUTxOList"><span class="annot"><span class="annottext">makeToUTxOList :: forall era. [ToUTxO era] -&gt; ToUTxOList era [Lovelace]
</span><a href="Cardano.TxGenerator.UTxO.html#makeToUTxOList"><span class="hs-identifier hs-var hs-var">makeToUTxOList</span></a></span></span><span> </span><span id="local-6989586621679810008"><span class="annot"><span class="annottext">[ToUTxO era]
</span><a href="#local-6989586621679810008"><span class="hs-identifier hs-var">fkts</span></a></span></span><span> </span><span id="local-6989586621679810009"><span class="annot"><span class="annottext">[Lovelace]
</span><a href="#local-6989586621679810009"><span class="hs-identifier hs-var">values</span></a></span></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621679810010"><span class="hs-identifier hs-var">outs</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679810011"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679810011"><span class="hs-identifier hs-var">txId</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((TxId -&gt; Fund) -&gt; Fund) -&gt; [TxId -&gt; Fund] -&gt; [Fund]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679810012"><span class="annot"><span class="annottext">TxId -&gt; Fund
</span><a href="#local-6989586621679810012"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxId -&gt; Fund
</span><a href="#local-6989586621679810012"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679810011"><span class="hs-identifier hs-var">txId</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TxId -&gt; Fund]
</span><a href="#local-6989586621679810013"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679810010"><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621679810010"><span class="hs-identifier hs-var">outs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679810013"><span class="annot"><span class="annottext">[TxId -&gt; Fund]
</span><a href="#local-6989586621679810013"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span class="annot"><span class="annottext">[(TxOut CtxTx era, TxId -&gt; Fund)]
-&gt; ([TxOut CtxTx era], [TxId -&gt; Fund])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.List.html#unzip"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">([(TxOut CtxTx era, TxId -&gt; Fund)]
 -&gt; ([TxOut CtxTx era], [TxId -&gt; Fund]))
-&gt; [(TxOut CtxTx era, TxId -&gt; Fund)]
-&gt; ([TxOut CtxTx era], [TxId -&gt; Fund])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((ToUTxO era, Lovelace, TxIx) -&gt; (TxOut CtxTx era, TxId -&gt; Fund))
-&gt; [(ToUTxO era, Lovelace, TxIx)]
-&gt; [(TxOut CtxTx era, TxId -&gt; Fund)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(ToUTxO era, Lovelace, TxIx) -&gt; (TxOut CtxTx era, TxId -&gt; Fund)
forall {b} {a} {t} {b}. (b -&gt; (a, t -&gt; b), b, t) -&gt; (a, b)
</span><a href="#local-6989586621679810017"><span class="hs-identifier hs-var">worker</span></a></span><span> </span><span class="annot"><span class="annottext">([(ToUTxO era, Lovelace, TxIx)]
 -&gt; [(TxOut CtxTx era, TxId -&gt; Fund)])
-&gt; [(ToUTxO era, Lovelace, TxIx)]
-&gt; [(TxOut CtxTx era, TxId -&gt; Fund)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[ToUTxO era]
-&gt; [Lovelace] -&gt; [TxIx] -&gt; [(ToUTxO era, Lovelace, TxIx)]
forall a b c. [a] -&gt; [b] -&gt; [c] -&gt; [(a, b, c)]
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.List.html#zip3"><span class="hs-identifier hs-var">zip3</span></a></span><span> </span><span class="annot"><span class="annottext">[ToUTxO era]
</span><a href="#local-6989586621679810008"><span class="hs-identifier hs-var">fkts</span></a></span><span> </span><span class="annot"><span class="annottext">[Lovelace]
</span><a href="#local-6989586621679810009"><span class="hs-identifier hs-var">values</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Word -&gt; TxIx
</span><span class="hs-identifier hs-var">TxIx</span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span class="hs-special">]</span><span>
</span><span id="line-24"></span><span>    </span><span id="local-6989586621679810017"><span class="annot"><span class="annottext">worker :: (b -&gt; (a, t -&gt; b), b, t) -&gt; (a, b)
</span><a href="#local-6989586621679810017"><span class="hs-identifier hs-var hs-var">worker</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679810020"><span class="annot"><span class="annottext">b -&gt; (a, t -&gt; b)
</span><a href="#local-6989586621679810020"><span class="hs-identifier hs-var">toUTxO</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679810021"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679810021"><span class="hs-identifier hs-var">value</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679810022"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679810022"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679810023"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679810023"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679810024"><span class="annot"><span class="annottext">t -&gt; b
</span><a href="#local-6989586621679810024"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; (a, t -&gt; b)
</span><a href="#local-6989586621679810020"><span class="hs-identifier hs-var">toUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679810021"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-26"></span><span>         </span><span class="hs-keyword">in</span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679810023"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">t -&gt; b
</span><a href="#local-6989586621679810024"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679810022"><span class="hs-identifier hs-var">idx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="annot"><a href="Cardano.TxGenerator.UTxO.html#mkUTxOVariant"><span class="hs-identifier hs-type">mkUTxOVariant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679809942"><span class="annot"><a href="#local-6989586621679809942"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679809942"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NetworkId</span></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SigningKey</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PaymentKey</span></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.UTxO.html#ToUTxO"><span class="hs-identifier hs-type">ToUTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679809942"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-32"></span><span id="mkUTxOVariant"><span class="annot"><span class="annottext">mkUTxOVariant :: forall era.
IsShelleyBasedEra era =&gt;
NetworkId -&gt; SigningKey PaymentKey -&gt; ToUTxO era
</span><a href="Cardano.TxGenerator.UTxO.html#mkUTxOVariant"><span class="hs-identifier hs-var hs-var">mkUTxOVariant</span></a></span></span><span> </span><span id="local-6989586621679810036"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679810036"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span id="local-6989586621679810037"><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679810037"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679810038"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810038"><span class="hs-identifier hs-var">value</span></a></span></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; TxOut CtxTx era
forall {ctx}. Lovelace -&gt; TxOut ctx era
</span><a href="#local-6989586621679810039"><span class="hs-identifier hs-var">mkTxOut</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810038"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; TxIx -&gt; TxId -&gt; Fund
</span><a href="#local-6989586621679810040"><span class="hs-identifier hs-var">mkNewFund</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810038"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-37"></span><span>  </span><span id="local-6989586621679810039"><span class="annot"><span class="annottext">mkTxOut :: Lovelace -&gt; TxOut ctx era
</span><a href="#local-6989586621679810039"><span class="hs-identifier hs-var hs-var">mkTxOut</span></a></span></span><span> </span><span id="local-6989586621679810046"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810046"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AddressInEra era
-&gt; TxOutValue era
-&gt; TxOutDatum ctx era
-&gt; ReferenceScript era
-&gt; TxOut ctx era
forall ctx era.
AddressInEra era
-&gt; TxOutValue era
-&gt; TxOutDatum ctx era
-&gt; ReferenceScript era
-&gt; TxOut ctx era
</span><span class="hs-identifier hs-var">TxOut</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era.
IsShelleyBasedEra era =&gt;
NetworkId -&gt; SigningKey PaymentKey -&gt; AddressInEra era
</span><a href="Cardano.TxGenerator.Utils.html#keyAddress"><span class="hs-identifier hs-var">keyAddress</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679809942"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679810036"><span class="hs-identifier hs-var">networkId</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679810037"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Lovelace -&gt; TxOutValue era
forall era. ShelleyBasedEra era -&gt; Lovelace -&gt; TxOutValue era
</span><span class="hs-identifier hs-var">lovelaceToTxOutValue</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><span class="hs-identifier hs-var">shelleyBasedEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679809942"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810046"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxOutDatum ctx era
forall ctx era. TxOutDatum ctx era
</span><span class="hs-identifier hs-var">TxOutDatumNone</span></span><span> </span><span class="annot"><span class="annottext">ReferenceScript era
forall era. ReferenceScript era
</span><span class="hs-identifier hs-var">ReferenceScriptNone</span></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="#local-6989586621679810040"><span class="hs-identifier hs-type">mkNewFund</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lovelace</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxIx</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Fund.html#Fund"><span class="hs-identifier hs-type">Fund</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span id="local-6989586621679810040"><span class="annot"><span class="annottext">mkNewFund :: Lovelace -&gt; TxIx -&gt; TxId -&gt; Fund
</span><a href="#local-6989586621679810040"><span class="hs-identifier hs-var hs-var">mkNewFund</span></a></span></span><span> </span><span id="local-6989586621679810052"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810052"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span id="local-6989586621679810053"><span class="annot"><span class="annottext">TxIx
</span><a href="#local-6989586621679810053"><span class="hs-identifier hs-var">txIx</span></a></span></span><span> </span><span id="local-6989586621679810054"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679810054"><span class="hs-identifier hs-var">txId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra FundInEra -&gt; Fund
</span><a href="Cardano.TxGenerator.Fund.html#Fund"><span class="hs-identifier hs-var">Fund</span></a></span><span> </span><span class="annot"><span class="annottext">(InAnyCardanoEra FundInEra -&gt; Fund)
-&gt; InAnyCardanoEra FundInEra -&gt; Fund
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; FundInEra era -&gt; InAnyCardanoEra FundInEra
forall era (thing :: * -&gt; *).
Typeable era =&gt;
CardanoEra era -&gt; thing era -&gt; InAnyCardanoEra thing
</span><span class="hs-identifier hs-var">InAnyCardanoEra</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsCardanoEra era =&gt; CardanoEra era
</span><span class="hs-identifier hs-var">cardanoEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679809942"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(FundInEra era -&gt; InAnyCardanoEra FundInEra)
-&gt; FundInEra era -&gt; InAnyCardanoEra FundInEra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Fund.html#FundInEra"><span class="hs-identifier hs-type">FundInEra</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-41"></span><span>      </span><span class="annot"><span class="annottext">_fundTxIn :: TxIn
</span><a href="Cardano.TxGenerator.Fund.html#_fundTxIn"><span class="hs-identifier hs-var">_fundTxIn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxIx -&gt; TxIn
</span><span class="hs-identifier hs-var">TxIn</span></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679810054"><span class="hs-identifier hs-var">txId</span></a></span><span> </span><span class="annot"><span class="annottext">TxIx
</span><a href="#local-6989586621679810053"><span class="hs-identifier hs-var">txIx</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_fundWitness :: Witness WitCtxTxIn era
</span><a href="Cardano.TxGenerator.Fund.html#_fundWitness"><span class="hs-identifier hs-var">_fundWitness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KeyWitnessInCtx WitCtxTxIn -&gt; Witness WitCtxTxIn era
forall witctx era. KeyWitnessInCtx witctx -&gt; Witness witctx era
</span><span class="hs-identifier hs-var">KeyWitness</span></span><span> </span><span class="annot"><span class="annottext">KeyWitnessInCtx WitCtxTxIn
</span><span class="hs-identifier hs-var">KeyWitnessForSpending</span></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_fundVal :: TxOutValue era
</span><a href="Cardano.TxGenerator.Fund.html#_fundVal"><span class="hs-identifier hs-var">_fundVal</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Lovelace -&gt; TxOutValue era
forall era. ShelleyBasedEra era -&gt; Lovelace -&gt; TxOutValue era
</span><span class="hs-identifier hs-var">lovelaceToTxOutValue</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><span class="hs-identifier hs-var">shelleyBasedEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679809942"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810052"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_fundSigningKey :: Maybe (SigningKey PaymentKey)
</span><a href="Cardano.TxGenerator.Fund.html#_fundSigningKey"><span class="hs-identifier hs-var">_fundSigningKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey -&gt; Maybe (SigningKey PaymentKey)
forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">SigningKey PaymentKey
</span><a href="#local-6989586621679810037"><span class="hs-identifier hs-var">key</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-comment">-- to be merged with mkUTxOVariant</span><span>
</span><span id="line-48"></span><span class="annot"><a href="Cardano.TxGenerator.UTxO.html#mkUTxOScript"><span class="hs-identifier hs-type">mkUTxOScript</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679809978"><span class="annot"><a href="#local-6989586621679809978"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-49"></span><span>     </span><span class="annot"><span class="hs-identifier hs-type">IsShelleyBasedEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679809978"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NetworkId</span></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ScriptInAnyLang</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScriptData</span></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Witness</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WitCtxTxIn</span></span><span> </span><span class="annot"><a href="#local-6989586621679809978"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.UTxO.html#ToUTxO"><span class="hs-identifier hs-type">ToUTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679809978"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-54"></span><span id="mkUTxOScript"><span class="annot"><span class="annottext">mkUTxOScript :: forall era.
IsShelleyBasedEra era =&gt;
NetworkId
-&gt; (ScriptInAnyLang, ScriptData)
-&gt; Witness WitCtxTxIn era
-&gt; ToUTxO era
</span><a href="Cardano.TxGenerator.UTxO.html#mkUTxOScript"><span class="hs-identifier hs-var hs-var">mkUTxOScript</span></a></span></span><span> </span><span id="local-6989586621679810074"><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679810074"><span class="hs-identifier hs-var">networkId</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679810075"><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679810075"><span class="hs-identifier hs-var">script</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679810076"><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679810076"><span class="hs-identifier hs-var">txOutDatum</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679810077"><span class="annot"><span class="annottext">Witness WitCtxTxIn era
</span><a href="#local-6989586621679810077"><span class="hs-identifier hs-var">witness</span></a></span></span><span> </span><span id="local-6989586621679810078"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810078"><span class="hs-identifier hs-var">value</span></a></span></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; TxOut CtxTx era
forall {ctx}. Lovelace -&gt; TxOut ctx era
</span><a href="#local-6989586621679810079"><span class="hs-identifier hs-var">mkTxOut</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810078"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; TxIx -&gt; TxId -&gt; Fund
</span><a href="#local-6989586621679810080"><span class="hs-identifier hs-var">mkNewFund</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810078"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-59"></span><span>  </span><span id="local-6989586621679810081"><span class="annot"><span class="annottext">plutusScriptAddr :: AddressInEra era
</span><a href="#local-6989586621679810081"><span class="hs-identifier hs-var hs-var">plutusScriptAddr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang
</span><a href="#local-6989586621679810075"><span class="hs-identifier hs-var">script</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-60"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">ScriptInAnyLang</span></span><span> </span><span id="local-6989586621679810090"><span class="annot"><span class="annottext">ScriptLanguage lang
</span><a href="#local-6989586621679810090"><span class="hs-identifier hs-var">lang</span></a></span></span><span> </span><span id="local-6989586621679810091"><span class="annot"><span class="annottext">Script lang
</span><a href="#local-6989586621679810091"><span class="hs-identifier hs-var">script'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-61"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; ScriptLanguage lang -&gt; Maybe (ScriptLanguageInEra lang era)
forall era lang.
ShelleyBasedEra era
-&gt; ScriptLanguage lang -&gt; Maybe (ScriptLanguageInEra lang era)
</span><span class="hs-identifier hs-var">scriptLanguageSupportedInEra</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><span class="hs-identifier hs-var">shelleyBasedEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679809978"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ScriptLanguage lang
</span><a href="#local-6989586621679810090"><span class="hs-identifier hs-var">lang</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-62"></span><span>        </span><span class="annot"><span class="annottext">Maybe (ScriptLanguageInEra lang era)
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; AddressInEra era
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;mkUtxOScript: scriptLanguageSupportedInEra==Nothing&quot;</span></span><span>
</span><span id="line-63"></span><span>        </span><span class="annot"><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; NetworkId
-&gt; PaymentCredential
-&gt; StakeAddressReference
-&gt; AddressInEra era
forall era.
ShelleyBasedEra era
-&gt; NetworkId
-&gt; PaymentCredential
-&gt; StakeAddressReference
-&gt; AddressInEra era
</span><span class="hs-identifier hs-var">makeShelleyAddressInEra</span></span><span>
</span><span id="line-64"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><span class="hs-identifier hs-var">shelleyBasedEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679809978"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>                       </span><span class="annot"><span class="annottext">NetworkId
</span><a href="#local-6989586621679810074"><span class="hs-identifier hs-var">networkId</span></a></span><span>
</span><span id="line-66"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptHash -&gt; PaymentCredential
</span><span class="hs-identifier hs-var">PaymentCredentialByScript</span></span><span> </span><span class="annot"><span class="annottext">(ScriptHash -&gt; PaymentCredential)
-&gt; ScriptHash -&gt; PaymentCredential
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Script lang -&gt; ScriptHash
forall lang. Script lang -&gt; ScriptHash
</span><span class="hs-identifier hs-var">hashScript</span></span><span> </span><span class="annot"><span class="annottext">Script lang
</span><a href="#local-6989586621679810091"><span class="hs-identifier hs-var">script'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span>                       </span><span class="annot"><span class="annottext">StakeAddressReference
</span><span class="hs-identifier hs-var">NoStakeAddress</span></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span>  </span><span id="local-6989586621679810079"><span class="annot"><span class="annottext">mkTxOut :: Lovelace -&gt; TxOut ctx era
</span><a href="#local-6989586621679810079"><span class="hs-identifier hs-var hs-var">mkTxOut</span></a></span></span><span> </span><span id="local-6989586621679810109"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810109"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; Maybe (AlonzoEraOnwards era)
forall (eon :: * -&gt; *) era.
Eon eon =&gt;
CardanoEra era -&gt; Maybe (eon era)
</span><span class="hs-identifier hs-var">forEraMaybeEon</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsCardanoEra era =&gt; CardanoEra era
</span><span class="hs-identifier hs-var">cardanoEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679809978"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-70"></span><span>    </span><span class="annot"><span class="annottext">Maybe (AlonzoEraOnwards era)
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TxOut ctx era
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;mkUtxOScript: scriptDataSupportedInEra==Nothing&quot;</span></span><span>
</span><span id="line-71"></span><span>    </span><span class="annot"><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679810111"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621679810111"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AddressInEra era
-&gt; TxOutValue era
-&gt; TxOutDatum ctx era
-&gt; ReferenceScript era
-&gt; TxOut ctx era
forall ctx era.
AddressInEra era
-&gt; TxOutValue era
-&gt; TxOutDatum ctx era
-&gt; ReferenceScript era
-&gt; TxOut ctx era
</span><span class="hs-identifier hs-var">TxOut</span></span><span>
</span><span id="line-72"></span><span>                  </span><span class="annot"><span class="annottext">AddressInEra era
</span><a href="#local-6989586621679810081"><span class="hs-identifier hs-var">plutusScriptAddr</span></a></span><span>
</span><span id="line-73"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Lovelace -&gt; TxOutValue era
forall era. ShelleyBasedEra era -&gt; Lovelace -&gt; TxOutValue era
</span><span class="hs-identifier hs-var">lovelaceToTxOutValue</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><span class="hs-identifier hs-var">shelleyBasedEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679809978"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810109"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AlonzoEraOnwards era -&gt; Hash ScriptData -&gt; TxOutDatum ctx era
forall era ctx.
AlonzoEraOnwards era -&gt; Hash ScriptData -&gt; TxOutDatum ctx era
</span><span class="hs-identifier hs-var">TxOutDatumHash</span></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621679810111"><span class="hs-identifier hs-var">tag</span></a></span><span> </span><span class="annot"><span class="annottext">(Hash ScriptData -&gt; TxOutDatum ctx era)
-&gt; Hash ScriptData -&gt; TxOutDatum ctx era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HashableScriptData -&gt; Hash ScriptData
</span><span class="hs-identifier hs-var">hashScriptDataBytes</span></span><span> </span><span class="annot"><span class="annottext">(HashableScriptData -&gt; Hash ScriptData)
-&gt; HashableScriptData -&gt; Hash ScriptData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptData -&gt; HashableScriptData
</span><span class="hs-identifier hs-var">unsafeHashableScriptData</span></span><span> </span><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679810076"><span class="hs-identifier hs-var">txOutDatum</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>                  </span><span class="annot"><span class="annottext">ReferenceScript era
forall era. ReferenceScript era
</span><span class="hs-identifier hs-var">ReferenceScriptNone</span></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="#local-6989586621679810080"><span class="hs-identifier hs-type">mkNewFund</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lovelace</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxIx</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TxId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Fund.html#Fund"><span class="hs-identifier hs-type">Fund</span></a></span><span>
</span><span id="line-78"></span><span>  </span><span id="local-6989586621679810080"><span class="annot"><span class="annottext">mkNewFund :: Lovelace -&gt; TxIx -&gt; TxId -&gt; Fund
</span><a href="#local-6989586621679810080"><span class="hs-identifier hs-var hs-var">mkNewFund</span></a></span></span><span> </span><span id="local-6989586621679810115"><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810115"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span id="local-6989586621679810116"><span class="annot"><span class="annottext">TxIx
</span><a href="#local-6989586621679810116"><span class="hs-identifier hs-var">txIx</span></a></span></span><span> </span><span id="local-6989586621679810117"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679810117"><span class="hs-identifier hs-var">txId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra FundInEra -&gt; Fund
</span><a href="Cardano.TxGenerator.Fund.html#Fund"><span class="hs-identifier hs-var">Fund</span></a></span><span> </span><span class="annot"><span class="annottext">(InAnyCardanoEra FundInEra -&gt; Fund)
-&gt; InAnyCardanoEra FundInEra -&gt; Fund
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; FundInEra era -&gt; InAnyCardanoEra FundInEra
forall era (thing :: * -&gt; *).
Typeable era =&gt;
CardanoEra era -&gt; thing era -&gt; InAnyCardanoEra thing
</span><span class="hs-identifier hs-var">InAnyCardanoEra</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsCardanoEra era =&gt; CardanoEra era
</span><span class="hs-identifier hs-var">cardanoEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679809978"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(FundInEra era -&gt; InAnyCardanoEra FundInEra)
-&gt; FundInEra era -&gt; InAnyCardanoEra FundInEra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><a href="Cardano.TxGenerator.Fund.html#FundInEra"><span class="hs-identifier hs-type">FundInEra</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-79"></span><span>      </span><span class="annot"><span class="annottext">_fundTxIn :: TxIn
</span><a href="Cardano.TxGenerator.Fund.html#_fundTxIn"><span class="hs-identifier hs-var">_fundTxIn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxIx -&gt; TxIn
</span><span class="hs-identifier hs-var">TxIn</span></span><span> </span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679810117"><span class="hs-identifier hs-var">txId</span></a></span><span> </span><span class="annot"><span class="annottext">TxIx
</span><a href="#local-6989586621679810116"><span class="hs-identifier hs-var">txIx</span></a></span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_fundWitness :: Witness WitCtxTxIn era
</span><a href="Cardano.TxGenerator.Fund.html#_fundWitness"><span class="hs-identifier hs-var">_fundWitness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Witness WitCtxTxIn era
</span><a href="#local-6989586621679810077"><span class="hs-identifier hs-var">witness</span></a></span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_fundVal :: TxOutValue era
</span><a href="Cardano.TxGenerator.Fund.html#_fundVal"><span class="hs-identifier hs-var">_fundVal</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Lovelace -&gt; TxOutValue era
forall era. ShelleyBasedEra era -&gt; Lovelace -&gt; TxOutValue era
</span><span class="hs-identifier hs-var">lovelaceToTxOutValue</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. IsShelleyBasedEra era =&gt; ShelleyBasedEra era
</span><span class="hs-identifier hs-var">shelleyBasedEra</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679809978"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Lovelace
</span><a href="#local-6989586621679810115"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_fundSigningKey :: Maybe (SigningKey PaymentKey)
</span><a href="Cardano.TxGenerator.Fund.html#_fundSigningKey"><span class="hs-identifier hs-var">_fundSigningKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (SigningKey PaymentKey)
forall a. Maybe a
</span><a href="file:///nix/store/f5bg7i46dibblg1zc49dsxrg2b5cp5ck-ghc-9.6.3-doc/share/doc/ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-84"></span></pre></body></html>